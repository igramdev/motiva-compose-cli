# Motiva Compose CLI

TypeScript-based CLI tool for orchestrating multi-agent LLM workflows for video scene generation.

## ğŸš© å®Ÿè£…çŠ¶æ³ã¾ã¨ã‚ï¼ˆ2025-07-03æ™‚ç‚¹ï¼‰

### âœ… å®Ÿè£…æ¸ˆã¿ãƒ»åˆ©ç”¨å¯èƒ½
- 5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆConceptPlannerâ†’AssetSynthesizerâ†’Directorâ†’Editorâ†’Criticï¼‰
- ä¸¦åˆ—å‡¦ç†ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã®CLIã‚³ãƒãƒ³ãƒ‰
- ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­è¨ˆ
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†ã‚³ãƒãƒ³ãƒ‰ã®æ”¹å–„
- äºˆç®—åˆ¶é™ã®ãƒªã‚»ãƒƒãƒˆãƒ»èª¿æŸ»æ–¹æ³•
- OpenAI APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°è¿½åŠ 
- çœŸã®ä¸¦åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆParallelPipelineOrchestratorï¼‰ã®å®Ÿè£…
- CLIã®`pipeline-parallel`ã‚³ãƒãƒ³ãƒ‰è¿½åŠ 
- ãƒªãƒˆãƒ©ã‚¤ãƒ»ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªå¼·åŒ–ï¼ˆErrorClassifierã«ã‚ˆã‚‹è©³ç´°åˆ†é¡ãƒ»è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ï¼‰
- Editor/Critic/é€šçŸ¥/ãƒ¬ãƒãƒ¼ãƒˆå„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¿½åŠ ã¨ãƒ†ã‚¹ãƒˆ
- Critic Agentã®ISO 8601æ—¥æ™‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ

### ğŸŸ¡ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¿½è¨˜æ¨å¥¨ï¼ˆç¾çŠ¶åæ˜ ãŒè–„ã„ï¼‰
- é«˜åº¦ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥ã®è©³ç´°
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ä¸¦åˆ—å‡¦ç†ã®åŠ¹æœæ¤œè¨¼ã‚„ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ä¾‹
- CLIæ–°ã‚³ãƒãƒ³ãƒ‰ï¼ˆ`advanced`, `notify`, `report`, `pipeline-parallel` ãªã©ï¼‰ã®èª¬æ˜
- motiva.config.tsã®è©³ç´°ä¾‹ï¼ˆã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ/ã‚­ãƒ£ãƒƒã‚·ãƒ¥/ä¸¦åˆ—/é€šçŸ¥/ãƒ¬ãƒãƒ¼ãƒˆè¨­å®šï¼‰

### ğŸŸ¥ æœªå®Ÿè£…ãƒ»ä»Šå¾Œã®å„ªå…ˆèª²é¡Œ
- Remotionç­‰ã®å‹•ç”»ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆï¼ˆPhase 7/8ã§å»¶æœŸä¸­ï¼‰
- APIã‚µãƒ¼ãƒãƒ¼/HTTPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆPhase 8è¨ˆç”»ã®ã¿ï¼‰
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆPhase 8è¨ˆç”»ã®ã¿ï¼‰
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ/ãƒãƒƒãƒ/è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½ï¼ˆPhase 8è¨ˆç”»ã®ã¿ï¼‰
- è©³ç´°ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»æ§‹é€ åŒ–ãƒ­ã‚°ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ï¼ˆPhase 8è¨ˆç”»ã®ã¿ï¼‰
- CI/CDè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆï¼ˆPhase 8è¨ˆç”»ã®ã¿ï¼‰
- Remotion Player/Rendererã¨ã®å®Œå…¨çµ±åˆï¼ˆ`render`ã‚³ãƒãƒ³ãƒ‰ã®æœ¬æ ¼å®Ÿè£…ï¼‰

## Phase 1-8 å®Ÿè£…çŠ¶æ³

âœ… **å®Ÿè£…å®Œäº†æ©Ÿèƒ½**
- Core CLI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (Commander.js)
- Zod ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ (ShotPlan, Budget, Config, SceneGraph, JsonPatch)
- äºˆç®—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- Concept Planner ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- Asset Synthesizer ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- Director ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- Editor ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆæ–°è¦è¿½åŠ ï¼‰
- Critic/QA ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆæ–°è¦è¿½åŠ ï¼‰
- OpenAI API ãƒ©ãƒƒãƒ‘ãƒ¼ (Chat Completions + Structured Outputs)
- åŸºæœ¬çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- ä¸¦åˆ—å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ 
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ 
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã‚·ã‚¹ãƒ†ãƒ 
- ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œ
- çœŸã®ä¸¦åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ
- ãƒªãƒˆãƒ©ã‚¤ãƒ»ã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªæ©Ÿèƒ½
- é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ–°è¦è¿½åŠ ï¼‰
- ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ–°è¦è¿½åŠ ï¼‰
- ErrorClassifierã«ã‚ˆã‚‹è©³ç´°ã‚¨ãƒ©ãƒ¼åˆ†é¡
- ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­è¨ˆ

## å¿…è¦ç’°å¢ƒ

- Node.js >= 22.0.0
- OpenAI API ã‚­ãƒ¼ (ç’°å¢ƒå¤‰æ•° `OPENAI_API_KEY`)

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# TypeScriptã‚’ãƒ“ãƒ«ãƒ‰
npm run build

# CLIã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ãƒªãƒ³ã‚¯ï¼ˆé–‹ç™ºç”¨ï¼‰
npm link
```

## ä½¿ç”¨æ–¹æ³•

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

```bash
motiva-compose init my-project
cd my-project
npm install
```

### 2. ã‚·ãƒ§ãƒƒãƒˆãƒ—ãƒ©ãƒ³ç”Ÿæˆ

```bash
# æ¨™æº–å…¥åŠ›ã‹ã‚‰ãƒ†ãƒ¼ãƒã‚’æŒ‡å®š
echo "æ‹æ„›ãƒ‰ãƒ©ãƒã®ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°ã‚’ä½œã£ã¦" | motiva-compose plan --output plan.json

# ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ†ãƒ¼ãƒã‚’æŒ‡å®š
cat theme.txt | motiva-compose plan --model gpt-4o-mini --temperature 0.8
```

### 3. ãƒ—ãƒ©ãƒ³æ¤œè¨¼

```bash
motiva-compose validate plan.json --schema shot-plan
```

### 4. äºˆç®—çŠ¶æ³ç¢ºèª

```bash
motiva-compose status
```

### 5. ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œï¼ˆæ–°æ©Ÿèƒ½ï¼‰

```bash
# ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ãŸå®Ÿè¡Œ
echo "æ¡œèˆã†æ˜¥ã®æ‹æ„›ã‚¹ãƒˆãƒ¼ãƒªãƒ¼" | motiva-compose pipeline --pipeline-file my-pipeline.json

# çœŸã®ä¸¦åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ
echo "å®‡å®™ã‚’èˆå°ã«ã—ãŸå†’é™ºãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼" | motiva-compose pipeline-parallel --pipeline-file parallel-pipeline.json

# ç‹¬ç«‹ã—ãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ä¸¦åˆ—å®Ÿè¡Œ
motiva-compose parallel-indep --agents "concept-planner,asset-synthesizer" --max-concurrency 2
```

### 6. ç™ºå±•ä¾‹æ©Ÿèƒ½ï¼ˆæ–°è¦ï¼‰

```bash
# ç™ºå±•ä¾‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œï¼ˆEditor + Critic Agentå«ã‚€ï¼‰
motiva-compose advanced --theme "æ¡œèˆã†æ˜¥ã®æ‹æ„›ã‚¹ãƒˆãƒ¼ãƒªãƒ¼" --notify --report

# é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†
motiva-compose notify --test          # ãƒ†ã‚¹ãƒˆé€šçŸ¥é€ä¿¡
motiva-compose notify --config        # é€šçŸ¥è¨­å®šè¡¨ç¤º
motiva-compose notify --history       # é€šçŸ¥å±¥æ­´è¡¨ç¤º

# ãƒ¬ãƒãƒ¼ãƒˆç®¡ç†
motiva-compose report --list          # ãƒ¬ãƒãƒ¼ãƒˆä¸€è¦§è¡¨ç¤º
motiva-compose report --stats         # çµ±è¨ˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
```

### 7. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ä¸¦åˆ—å‡¦ç†ç®¡ç†ï¼ˆæ–°æ©Ÿèƒ½ï¼‰

```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
motiva-compose cache --stats          # ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆè¡¨ç¤º
motiva-compose cache --clear          # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
motiva-compose cache --cleanup        # æœŸé™åˆ‡ã‚Œã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤

# ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºãƒ‡ãƒ¢
motiva-compose progress --demo        # ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã®ãƒ‡ãƒ¢å®Ÿè¡Œ

# ä¸¦åˆ—å‡¦ç†å®Ÿè¡Œ
motiva-compose parallel --agents "concept-planner,asset-synthesizer,director" --max-concurrency 3
```

## ä¾‹: å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
motiva-compose init romance-opening
cd romance-opening

# 2. ãƒ†ãƒ¼ãƒã‹ã‚‰ãƒ—ãƒ©ãƒ³ç”Ÿæˆ
echo "æ¡œèˆã†æ˜¥ã®æ‹æ„›ã‚¹ãƒˆãƒ¼ãƒªãƒ¼" | motiva-compose plan

# 3. ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ©ãƒ³ã‚’æ¤œè¨¼
motiva-compose validate plan.json

# 4. ç™ºå±•ä¾‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œï¼ˆ5æ®µéšï¼‰
motiva-compose advanced --theme "æ¡œèˆã†æ˜¥ã®æ‹æ„›ã‚¹ãƒˆãƒ¼ãƒªãƒ¼" --notify --report

# 5. ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
motiva-compose report --list

# 6. äºˆç®—ä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèª
motiva-compose status

# 7. ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆç¢ºèª
motiva-compose cache --stats
```

## ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä¾‹

### åŸºæœ¬ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ (basic-pipeline.json)
```json
{
  "name": "basic-3-stage-pipeline",
  "version": "1.0.0",
  "description": "3æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆConceptPlannerâ†’AssetSynthesizerâ†’Directorï¼‰",
  "agents": [
    {
      "name": "concept-planner",
      "type": "concept-planner",
      "config": {
        "timeout": 30000,
        "retries": 3
      }
    },
    {
      "name": "asset-synthesizer",
      "type": "asset-synthesizer",
      "config": {
        "timeout": 60000,
        "retries": 3
      }
    },
    {
      "name": "director",
      "type": "director",
      "config": {
        "timeout": 45000,
        "retries": 3
      }
    }
  ]
}
```

### é«˜åº¦ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ (advanced-pipeline.json)
```json
{
  "name": "advanced-5-stage-pipeline",
  "version": "1.0.0",
  "description": "5æ®µéšãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆå…¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä½¿ç”¨ï¼‰",
  "agents": [
    {
      "name": "concept-planner",
      "type": "concept-planner"
    },
    {
      "name": "asset-synthesizer",
      "type": "asset-synthesizer"
    },
    {
      "name": "director",
      "type": "director"
    },
    {
      "name": "editor",
      "type": "editor"
    },
    {
      "name": "critic",
      "type": "critic"
    }
  ]
}
```

## æ–°ã—ã„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

### Editor Agent
- **å½¹å‰²**: æ˜ åƒç·¨é›†ãƒ»å“è³ªå‘ä¸Š
- **å…¥åŠ›**: SceneGraph
- **å‡ºåŠ›**: JsonPatchï¼ˆç·¨é›†ææ¡ˆï¼‰
- **æ©Ÿèƒ½**: æ˜ åƒã®æµã‚Œæ”¹å–„ã€ã‚¿ã‚¤ãƒŸãƒ³ã‚°èª¿æ•´ã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆæœ€é©åŒ–
- **ç‰¹å¾´**: ç©ºã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç©ºé…åˆ—ã«è‡ªå‹•å¤‰æ›ã™ã‚‹ãƒªã‚«ãƒãƒªæ©Ÿèƒ½

### Critic/QA Agent
- **å½¹å‰²**: å“è³ªè©•ä¾¡ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- **å…¥åŠ›**: SceneGraph
- **å‡ºåŠ›**: å“è³ªè©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ
- **æ©Ÿèƒ½**: è¦–è¦šçš„å“è³ªã€ãƒŠãƒ©ãƒ†ã‚£ãƒ–ãƒ•ãƒ­ãƒ¼ã€æŠ€è¡“çš„å®Ÿè¡Œã€æ„Ÿæƒ…çš„ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã®è©•ä¾¡
- **ç‰¹å¾´**: ISO 8601æ—¥æ™‚å½¢å¼ã§ã®æ­£ç¢ºãªãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

## ç™ºå±•ä¾‹æ©Ÿèƒ½

### é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«é€šçŸ¥**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®é€²æ—ãƒ»ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
- **Slacké€šçŸ¥**: WebhookçµŒç”±ã§ã®é€šçŸ¥ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- **Discordé€šçŸ¥**: WebhookçµŒç”±ã§ã®é€šçŸ¥ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- **ãƒ¡ãƒ¼ãƒ«é€šçŸ¥**: SMTPçµŒç”±ã§ã®é€šçŸ¥ï¼ˆè¨­å®šå¯èƒ½ï¼‰

### ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
- **å®Ÿè¡Œãƒ¬ãƒãƒ¼ãƒˆ**: å„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
- **çµ±è¨ˆãƒ¬ãƒãƒ¼ãƒˆ**: è¤‡æ•°å®Ÿè¡Œã®çµ±è¨ˆåˆ†æ
- **Markdownå½¢å¼**: äººé–“ãŒèª­ã¿ã‚„ã™ã„å½¢å¼ã§ã®å‡ºåŠ›
- **JSONå½¢å¼**: æ©Ÿæ¢°å‡¦ç†å¯èƒ½ãªå½¢å¼ã§ã®å‡ºåŠ›

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½
- **ErrorClassifier**: ã‚¨ãƒ©ãƒ¼ã®è©³ç´°åˆ†é¡ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€APIåˆ¶é™ã€äºˆç®—ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰
- **è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤**: ãƒªãƒˆãƒ©ã‚¤å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ã«å¯¾ã™ã‚‹æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•
- **ãƒªã‚«ãƒãƒªæ©Ÿèƒ½**: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ä¿®æ­£ï¼ˆä¾‹ï¼šç©ºã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆâ†’ç©ºé…åˆ—ï¼‰

## å‡ºåŠ›ä¾‹

### ã‚·ãƒ§ãƒƒãƒˆãƒ—ãƒ©ãƒ³ (plan.json)
```json
{
  "sceneId": "romance-spring",
  "duration": 900,
  "theme": "æ¡œèˆã†æ˜¥ã®æ‹æ„›ã‚¹ãƒˆãƒ¼ãƒªãƒ¼",
  "shots": [
    {
      "id": "s1",
      "start": 0,
      "len": 180,
      "desc": "æ¡œä¸¦æœ¨ã‚’æ­©ãäºŒäººã®ã‚·ãƒ«ã‚¨ãƒƒãƒˆ"
    },
    {
      "id": "s2", 
      "start": 180,
      "len": 240,
      "desc": "é¢¨ã«èˆã†æ¡œã®èŠ±ã³ã‚‰ã‚¯ãƒ­ãƒ¼ã‚ºã‚¢ãƒƒãƒ—"
    }
  ],
  "bgm": {
    "style": "acoustic_pop",
    "bpm": 85
  }
}
```

### å“è³ªè©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ (critic-report.json)
```json
{
  "overallScore": 85,
  "qualityAssessment": {
    "visualQuality": 90,
    "narrativeFlow": 85,
    "technicalExecution": 80,
    "emotionalImpact": 88
  },
  "issues": [
    {
      "severity": "medium",
      "category": "technical",
      "description": "ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆã®æœ€é©åŒ–ãŒå¿…è¦",
      "suggestion": "ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã‚’å‰Šæ¸›ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Š"
    }
  ],
  "strengths": ["ç¾ã—ã„è‰²å½©è¨­è¨ˆ", "æ„Ÿæƒ…çš„ãªã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ†ãƒªãƒ³ã‚°"],
  "recommendations": ["ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®è»½é‡åŒ–", "ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å¾®èª¿æ•´"],
  "metadata": {
    "reviewDate": "2023-10-01T12:34:56.789Z",
    "reviewer": "æ˜ åƒå“è³ªç®¡ç†æ‹…å½“è€…",
    "version": "1.0"
  }
}
```

### ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œçµæœ (pipeline-result.json)
```json
{
  "pipelineName": "advanced-5-stage-pipeline",
  "executionId": "5cc91920-dc99-4880-b96e-bfc8a4281c5c",
  "startTime": "2025-07-03T07:00:43.560Z",
  "endTime": "2025-07-03T07:00:48.164Z",
  "duration": 4604,
  "status": "success",
  "results": [
    {
      "agentName": "pipeline",
      "status": "success",
      "duration": 4604,
      "output": {
        "overallScore": 85,
        "qualityAssessment": {
          "visualQuality": 88,
          "narrativeFlow": 80,
          "technicalExecution": 90,
          "emotionalImpact": 82
        }
      }
    }
  ],
  "totalTokens": 793,
  "totalCost": 0.0001
}
```

## é–‹ç™º

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
npm test
```

### é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
```bash
npm run dev  # TypeScript watch mode
```

### Lint
```bash
npm run lint
```

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
src/
â”œâ”€â”€ index.ts                    # CLI ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ schemas/                    # Zod ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ openai.ts              # OpenAI API ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ budget.ts              # äºˆç®—ç®¡ç†
â”‚   â”œâ”€â”€ agent-orchestrator.ts  # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ parallel-orchestrator.ts # ä¸¦åˆ—å‡¦ç†
â”‚   â”œâ”€â”€ parallel-pipeline-orchestrator.ts # çœŸã®ä¸¦åˆ—ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”‚   â”œâ”€â”€ cache-manager.ts       # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
â”‚   â”œâ”€â”€ progress-manager.ts    # ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
â”‚   â”œâ”€â”€ pipeline-manager.ts    # ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ç®¡ç†
â”‚   â”œâ”€â”€ notification-manager.ts # é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ report-generator.ts    # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ error-classifier.ts    # ã‚¨ãƒ©ãƒ¼åˆ†é¡ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ retry.ts               # ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ config-manager.ts      # è¨­å®šç®¡ç†ï¼ˆæ–°è¦ï¼‰
â”‚   â””â”€â”€ define-config.ts       # è¨­å®šå®šç¾©ï¼ˆæ–°è¦ï¼‰
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ concept-planner.ts     # Concept Planner ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ asset-synthesizer.ts   # Asset Synthesizer ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ director-agent.ts      # Director ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ editor-agent.ts        # Editor ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆæ–°è¦ï¼‰
â”‚   â””â”€â”€ critic-agent.ts        # Critic/QA ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆæ–°è¦ï¼‰
â””â”€â”€ __tests__/                 # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
```

## ä»Šå¾Œã®äºˆå®š (Phase 9+)

### ğŸŸ¥ æœªå®Ÿè£…ãƒ»ä»Šå¾Œã®å„ªå…ˆèª²é¡Œ
- [ ] å‹•ç”»ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆ (`render` ã‚³ãƒãƒ³ãƒ‰)
- [ ] Remotion çµ±åˆ
- [ ] HLS ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
- [ ] APIã‚µãƒ¼ãƒãƒ¼/HTTPã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- [ ] ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ/ãƒãƒƒãƒ/è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½
- [ ] è©³ç´°ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»æ§‹é€ åŒ–ãƒ­ã‚°ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- [ ] CI/CDè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- [ ] åˆ†æ•£å‡¦ç†å¯¾å¿œ

### ğŸŸ¡ æ”¹å–„äºˆå®š
- [ ] é«˜åº¦ãªã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªã®æ‹¡å¼µ
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ä¸¦åˆ—å‡¦ç†ã®æœ€é©åŒ–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®è¿½åŠ 
- [ ] ã‚ˆã‚Šè©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT (tentative)

---

*ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Motiva ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€éƒ¨ã¨ã—ã¦ã€Cursor IDE ã¨é€£æºã—ã¦é–‹ç™ºã•ã‚Œã¦ã„ã¾ã™ã€‚* 